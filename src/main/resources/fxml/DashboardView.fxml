<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!--
        ============================================
        DASHBOARD FEATURES:
        ============================================

        1. HEADER SECTION:
           ✅ App title with icon
           ✅ Welcome message with username
           ✅ Logout button
           ✅ Navigation menu bar

        2. NAVIGATION TABS:
           ✅ Products, Categories, Suppliers, Sales, Dashboard
           ✅ Active tab indicator (bottom border)
           ✅ Icon-based navigation

        3. DASHBOARD STATISTICS:
           ✅ 4 metric cards (Products, Categories, Suppliers, Sales)
           ✅ Card-based design with shadows
           ✅ Color-coded for easy recognition

        4. QUICK ACTIONS:
           ✅ 4 action buttons for common tasks
           ✅ Direct navigation to relevant sections

        5. LOW STOCK ALERT:
           ✅ Shows products with low inventory
           ✅ Warning color scheme

        6. STATUS BAR:
           ✅ Shows application status
           ✅ Version information

        ============================================
        CONTENT AREA STRUCTURE:
        ============================================

        The contentArea (StackPane) will hold different views:
        - dashboardPane (default, shown above)
        - productsPane (loaded dynamically)
        - categoriesPane (loaded dynamically)
        - suppliersPane (loaded dynamically)
        - salesPane (loaded dynamically)

        The controller will switch between these panes
        based on navigation button clicks.

        ============================================
        -->

<BorderPane prefHeight="700" prefWidth="1200" style="-fx-background-color: #f5f5f5;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.dummy_inventory.controller.DashboardController">

    <!-- TOP: Header Bar -->
    <top>
        <VBox style="-fx-background-color: #667eea;">
            <!-- Title Bar -->
            <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 15 20; -fx-background-color: #061831;">
                <Label style="-fx-font-size: 28;" />
                <Label text="Inventory Management System" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="20" />
                    </font>
                </Label>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS" />

                <!-- User Info -->
                <HBox alignment="CENTER_RIGHT" spacing="15">
                    <Label fx:id="welcomeLabel" text="Welcome, User" textFill="WHITE">
                        <font>
                            <Font size="14" />
                        </font>
                    </Label>
                    <Button fx:id="logoutButton" onAction="#handleLogout" style="-fx-background-color: #764ba2; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 20;" text="Logout">
                        <font>
                            <Font name="System Bold" size="12" />
                        </font>
                    </Button>
                </HBox>
            </HBox>

            <!-- Navigation Menu -->
            <HBox spacing="0" style="-fx-background-color: #292929; -fx-padding: 0;">
                <Button fx:id="btnDashboard" onAction="#showDashboard" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: #ffffff;" text="Dashboard">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnProducts" onAction="#showProducts" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" styleClass="nav-button" text="Products">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnCategories" onAction="#showCategories" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" text="Categories">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnSuppliers" onAction="#showSuppliers" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" text="Suppliers">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnSales" onAction="#showSales" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" text="Sales">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnUsers" onAction="#showUsers" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" text="Users">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
                <Button fx:id="btnReports" onAction="#showReports" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-padding: 12 25; -fx-cursor: hand; -fx-border-width: 0 0 3 0; -fx-border-color: transparent;" text="Reports">
                    <font><Font name="System Bold" size="13" /></font>
                </Button>
            </HBox>
        </VBox>
    </top>

    <!-- CENTER: Main Content Area -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-background-color: #f5f5f5;">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <!-- Default Dashboard View -->
            <VBox fx:id="dashboardPane" alignment="TOP_CENTER" spacing="20">

                <!-- Statistics Cards -->
                <HBox alignment="CENTER" spacing="20">
                    <!-- Total Products Card -->
                    <VBox alignment="CENTER" prefWidth="250" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 40;" />
                        <Label fx:id="totalProductsLabel" style="-fx-font-size: 36; -fx-font-weight: bold; -fx-text-fill: #667eea;" text="0" />
                        <Label style="-fx-font-size: 14; -fx-text-fill: #666666;" text="Total Products" />
                    </VBox>

                    <!-- Total Categories Card -->
                    <VBox alignment="CENTER" prefWidth="250" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 40;" />
                        <Label fx:id="totalCategoriesLabel" style="-fx-font-size: 36; -fx-font-weight: bold; -fx-text-fill: #27ae60;" text="0" />
                        <Label style="-fx-font-size: 14; -fx-text-fill: #666666;" text="Categories" />
                    </VBox>

                    <!-- Total Suppliers Card -->
                    <VBox alignment="CENTER" prefWidth="250" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 40;" />
                        <Label fx:id="totalSuppliersLabel" prefHeight="54.0" prefWidth="14.0" style="-fx-font-size: 36; -fx-font-weight: bold; -fx-text-fill: #e67e22;" text="0" />
                        <Label style="-fx-font-size: 14; -fx-text-fill: #666666;" text="Suppliers" />
                    </VBox>

                    <!-- Total Sales Card -->
                    <VBox alignment="CENTER" prefWidth="250" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                        <Label style="-fx-font-size: 40;" />
                        <Label fx:id="totalSalesLabel" style="-fx-font-size: 36; -fx-font-weight: bold; -fx-text-fill: #3498db;" text="0" />
                        <Label style="-fx-font-size: 14; -fx-text-fill: #666666;" text="Total Sales" />
                    </VBox>
                </HBox>

                <!-- Quick Actions -->
                <VBox alignment="CENTER" prefWidth="1000" spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <Label style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #333333;" text="Quick Actions" />

                    <HBox alignment="CENTER" spacing="15">
                        <Button onAction="#showProducts" style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 15 30; -fx-cursor: hand;" text="➕ Add Product">
                            <font><Font name="System Bold" size="13" /></font>
                        </Button>

                        <Button onAction="#showSales" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 15 30; -fx-cursor: hand;" text="Record Sale">
                            <font><Font name="System Bold" size="13" /></font>
                        </Button>

                        <Button onAction="#showProducts" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 15 30; -fx-cursor: hand;" text="View Inventory">
                            <font><Font name="System Bold" size="13" /></font>
                        </Button>

                        <Button onAction="#showSuppliers" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 15 30; -fx-cursor: hand;" text="Manage Suppliers">
                            <font><Font name="System Bold" size="13" /></font>
                        </Button>
                    </HBox>
                </VBox>

                <!-- Low Stock Alert -->
                <VBox alignment="TOP_LEFT" prefWidth="1000" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <Label style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" text="Low Stock Alert" />
                    <Label fx:id="lowStockLabel" style="-fx-font-size: 13; -fx-text-fill: #666666;" text="Loading..." wrapText="true" />
                </VBox>
            </VBox>
        </StackPane>
    </center>

    <!-- BOTTOM: Status Bar -->
    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #34495e; -fx-padding: 10 20;">
            <Label fx:id="statusLabel" text="Ready" textFill="WHITE">
                <font><Font size="12" /></font>
            </Label>

            <Region HBox.hgrow="ALWAYS" />

            <Label text="Inventory Management System v1.0" textFill="#95a5a6">
                <font><Font size="10" /></font>
            </Label>
        </HBox>
    </bottom>

</BorderPane>
